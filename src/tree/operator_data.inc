// Not a header file - this should be included wherever a list of info about 
// all the operators is required - if any of INFIX, PREFIX, POSTFIX are defined
// they are invoked for each operator with pertinent info in the parameters 

//TODO arrange for this to be generated by doxygen, by pre-processing it with
// suitable #defines similar to what tree.hpp uses.

// save typing by defining any macros not yet defined
#ifndef PREFIX
#define PREFIX(TOK, TEXT, NODE, BASE, CAT, PROD, ASSOC)
#endif
#ifndef POSTFIX
#define POSTFIX(TOK, TEXT, NODE, BASE, CAT, PROD, ASSOC)
#endif
#ifndef INFIX
#define INFIX(TOK, TEXT, NODE, BASE, CAT, PROD, ASSOC)
#endif
#ifndef OTHER
#define OTHER(TOK, TEXT, NODE, BASE, CAT, PROD, ASSOC)
#endif

/*
Syntax  Clang token          Text   Inferno node          Intermediate            Category    Syntax::Production   Association */

PREFIX(amp                 , "&",   AddressOf,            Unop,                   SPECIAL,    PREFIX,      RIGHT )
INFIX(amp                  , "&",   BitwiseAnd,           CommutativeBinop,       BITWISE,    BITWISE_AND, LEFT )
INFIX(ampamp               , "&&",  LogicalAnd,           Binop,                  LOGICAL,    LOGIC_AND,   LEFT )
INFIX(ampequal             , "&=",  AssignmentBitwiseAnd, AssignmentOperator,     BITWISE,    ASSIGN,      RIGHT )
INFIX(star                 , "*",   Multiply,             CommutativeBinop,       ARITHMETIC, MUL_DIV,     LEFT )
PREFIX(star                , "*",   Dereference,          Unop,                   SPECIAL,    PREFIX,      RIGHT )
INFIX(starequal            , "*=",  AssignmentMultiply,   AssignmentOperator,     ARITHMETIC, ASSIGN,      RIGHT )
INFIX(plus                 , "+",   Add,                  CommutativeBinop,       ARITHMETIC, ADD_SUB,     LEFT )
PREFIX(plusplus            , "++",  PreIncrement,         AssignmentOperator,     ARITHMETIC, PREFIX,      RIGHT ) // operator++()
POSTFIX(plusplus           , "++",  PostIncrement,        AssignmentOperator,     ARITHMETIC, POSTFIX,     LEFT ) // operator++(int)
INFIX(plusequal            , "+=",  AssignmentAdd,        AssignmentOperator,     ARITHMETIC, ASSIGN,      RIGHT )
PREFIX(minus               , "-",   Negate,               Unop,                   ARITHMETIC, PREFIX,      RIGHT )
INFIX(minus                , "-",   Subtract,             Binop,                  ARITHMETIC, ADD_SUB,     LEFT )
PREFIX(minusminus          , "--",  PreDecrement,         AssignmentOperator,     ARITHMETIC, PREFIX,      RIGHT ) // operator--()
POSTFIX(minusminus         , "--",  PostDecrement,        AssignmentOperator,     ARITHMETIC, POSTFIX,     LEFT ) // operator--(int)
INFIX(minusequal           , "-=",  AssignmentSubtract,   AssignmentOperator,     ARITHMETIC, ASSIGN,      RIGHT )
PREFIX(tilde               , "~",   BitwiseNot,           Unop,                   BITWISE,    PREFIX,      RIGHT )
PREFIX(exclaim             , "!",   LogicalNot,           Unop,                   LOGICAL,    PREFIX,      RIGHT )
INFIX(exclaimequal         , "!=",  NotEqual,             CommutativeBinop,       COMPARISON, EQ_COMP,     LEFT )
INFIX(slash                , "/",   Divide,               Binop,                  ARITHMETIC, MUL_DIV,     LEFT )
INFIX(slashequal           , "/=",  AssignmentDivide,     AssignmentOperator,     ARITHMETIC, ASSIGN,      RIGHT )
INFIX(percent              , "%",   Modulo,               Binop,                  ARITHMETIC, MUL_DIV,     LEFT )
INFIX(percentequal         , "%=",  AssignmentModulo,     AssignmentOperator,     ARITHMETIC, ASSIGN,      RIGHT )
INFIX(less                 , "<",   Less,                 Binop,                  COMPARISON, MAG_COMP,    LEFT )
INFIX(lessless             , "<<",  ShiftLeft,            Binop,                  SHIFT,      SHIFT,       LEFT )
INFIX(lessequal            , "<=",  LessOrEqual,          Binop,                  COMPARISON, MAG_COMP,    LEFT )
INFIX(lesslessequal        , "<<=", AssignmentShiftLeft,  AssignmentOperator,     SHIFT,      ASSIGN,      LEFT )
INFIX(greater              , ">",   Greater,              Binop,                  COMPARISON, MAG_COMP,    LEFT )
INFIX(greatergreater       , ">>",  ShiftRight,           Binop,                  SHIFT,      SHIFT,       LEFT )
INFIX(greaterequal         , ">=",  GreaterOrEqual,       Binop,                  COMPARISON, MAG_COMP,    LEFT )
INFIX(greatergreaterequal  , ">>=", AssignmentShiftRight, AssignmentOperator,     SHIFT,      ASSIGN,      RIGHT )
INFIX(caret                , "^",   Eor,                  CommutativeBinop,       BITWISE,    BITWISE_EOR, LEFT )
INFIX(caretequal           , "^=",  AssignmentEor,        AssignmentOperator,     BITWISE,    ASSIGN,      RIGHT )
INFIX(pipe                 , "|",   BitwiseOr,            CommutativeBinop,       BITWISE,    BITWISE_OR,  LEFT )
INFIX(pipepipe             , "||",  LogicalOr,            Binop,                  LOGICAL,    LOGIC_OR,    LEFT )
INFIX(pipeequal            , "|=",  AssignmentBitwiseOr,  AssignmentOperator,     BITWISE,    ASSIGN,      RIGHT )
INFIX(equal                , "=",   Assign,               AssignmentOperator,     SPECIAL,    ASSIGN,      RIGHT )
INFIX(equalequal           , "==",  Equal,                CommutativeBinop,       COMPARISON, EQ_COMP,     LEFT )
INFIX(comma                , ",",   Comma,                Binop,                  SPECIAL,    COMMA_OP,    LEFT ) 
// TODO these four have no clang id, no string and are non-standard - put them back in cpptree.hpp
//OTHER(0                    , "",    ConditionalOperator,  Ternop,                 SPECIAL,    CONDITIONAL, RIGHT )  // a?b:c
//OTHER(0                    , "",    Subscript,            Binop,                  SPECIAL,    POSTFIX,     LEFT )  // a[b]
OTHER(0                    , "",    MakeArray,            NonCommutativeOperator, SPECIAL,    PARENTHESISED,      LEFT ) // {a, b, c}
OTHER(0                    , "",    This,                 Operator,               SPECIAL,    TOKEN,       LEFT ) // this

// save typing by undefining macros
#undef PREFIX
#undef POSTFIX
#undef INFIX
#undef OTHER
